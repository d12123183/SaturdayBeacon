<!DOCTYPE html>
<html>

<head>

	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, user-scalable=no,
		shrink-to-fit=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0" />

	<title>iBeacon Scan</title>

<!--	<style>
		@import 'ui/css/evothings-app.css';
	</style>-->

	<script>
		// Redirect console.log to Evothings Workbench.
		if (window.hyper && window.hyper.log) { console.log = hyper.log }
	</script>

	<script src="cordova.js"></script>
	<script src="libs/jquery/jquery.js"></script>
	<script src="libs/evothings/evothings.js"></script>
	<script src="libs/evothings/ui/ui.js"></script>
	<script src="app.js"></script>

	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
	<script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
	<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />

	<script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>



</head>

<body>

	<div data-role="page" data-theme="a">

		<div data-role="header" data-theme="a">

			<h1>DIT iBeacon Scanner</h1>

		</div>

			<div data-role="content" data-theme="a">

				<p align="justify">

				<ul id="found-beacons" class="dynamic"></ul>

				</p>

				</div>

		<div id="map" style="height: 600px;"></div>



		<script>
            // leaflet map code

            var map = L.map('map',{

                crs: L.CRS.Simple

            });

            var bounds = [[0,0], [1000,1000]];

            var image = L.imageOverlay('ditmap/DIT-FloorPlan.jpg', bounds).addTo(map);

            var yx = L.latLng;

            var xy = function(x, y) {
                if (L.Util.isArray(x)) {    // When doing xy([x, y]);
                    return yx(x[1], x[0]);
                }
                return yx(y, x);  // When doing xy(x, y);
            };



            var b1      = xy(0, 30);
            var b2      = xy(500, 500);
            var b3      = xy(100, 100);


            L.marker(b1).addTo(map).bindPopup("Beacon 1");

            L.marker(b2).addTo(map).bindPopup('Beacon 2');

            L.marker(b3).addTo(map).bindPopup('Beacon 3');

            var travel = L.polyline([b1, b2, b3, b1]).addTo(map);


            map.fitBounds(bounds);

            // L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
            //    attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
            // }).addTo(map);

            // Marker
            //var marker = L.marker([50, 50]).addTo(image);

		</script>






		<!-- /content -->

		<div data-role="footer" data-theme="a" data-position="fixed">
			<div data-role="navbar">
				<ul>
					<li><a href="mailto:d12123183@mydit.ie" class="ui-btn ui-icon-info ui-btn-icon-left">Info</a></li>
					<li><a href="tel:0876222862" class="ui-btn ui-icon-phone ui-btn-icon-left">Call</a></li>
					<li><a href="http://www.openstreetmap.org/#map=18/53.33717/-6.26767" width="640" height="480"" class="ui-btn ui-icon-location ui-btn-icon-left">Location</a></li>
				</ul>
			</div><!-- /navbar -->

		</div><!-- /footer -->

		</div>




</body>

</html>